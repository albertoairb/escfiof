<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Escala</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="top">
    <div class="top__left">
      <div class="brand" id="systemName">Escala Semanal de Oficiais do 4º BPM/M</div>
      <div class="sub" id="period"></div>
    </div>
    <div class="top__right">
      <button id="btnPdf" class="btn">PDF</button>
      <button id="btnLogout" class="btn btn--ghost">sair</button>
    </div>
  </header>

  <div id="holidayBar" class="holiday" style="display:none;"></div>

  <main class="wrap">
    <section id="loginBox" class="card">
      <h1>acesso</h1>
      <label>
        nome (posto + nome completo)
        <input id="loginName" placeholder="ex.: Tenente-Coronel PM Helder Antônio de Paula" />
      </label>
      <label>
        senha
        <input id="loginPass" type="password" placeholder="sr123" />
      </label>
      <button id="btnLogin" class="btn btn--primary">entrar</button>
      <div class="muted" id="loginMsg"></div>
    </section>

    <section id="changeBox" class="card" style="display:none;">
      <h1>troca obrigatória de senha</h1>
      <div class="muted">primeiro acesso: defina uma nova senha para continuar.</div>
      <label>
        nova senha
        <input id="newPass1" type="password" />
      </label>
      <label>
        confirmar nova senha
        <input id="newPass2" type="password" />
      </label>
      <button id="btnChange" class="btn btn--primary">salvar e continuar</button>
      <div class="muted" id="changeMsg"></div>
    </section>

    <section id="appBox" class="card" style="display:none;">
      <div class="row">
        <div class="muted" id="lockMsg"></div>
        <div class="muted" id="userMsg"></div>
      </div>

      <div class="tablewrap">
        <table id="table"></table>
      </div>

      <div class="legend" id="legend"></div>

      <div class="row row--actions">
        <button id="btnSave" class="btn btn--primary">salvar</button>
        <div class="muted" id="saveMsg"></div>
      </div>


<details id="descBox" class="descbox" style="display:none;">
  <summary>descrições (OUTROS / FO*)</summary>
  <div class="muted">as descrições digitadas em OUTROS e FO* aparecem aqui e também no PDF.</div>
  <div id="descNotes" class="descnotes"></div>
</details>


<details id="historyBox" class="descbox" style="display:none;">
  <summary>histórico de alterações</summary>
  <div class="muted">visível apenas para administrador. registra quem alterou, quando, e o que foi alterado.</div>
  <div id="historyTable" class="descnotes"></div>
</details>




<details id="sigBox" class="descbox" style="display:none;">
  <summary>assinaturas do PDF</summary>
  <div class="muted">somente responsáveis autorizados podem editar. os nomes e cargos aparecem no rodapé do PDF.</div>
  <div class="siggrid">
    <div class="sigcard">
      <div class="sigtitle">assinatura 1</div>
      <label>
        nome
        <input id="sigLeftName" placeholder="ex.: ALBERTO FRANZINI NETO" />
      </label>
      <label>
        cargo/função
        <input id="sigLeftRole" placeholder="ex.: CH P1/P5" />
      </label>
    </div>
    <div class="sigcard">
      <div class="sigtitle">assinatura 2</div>
      <label>
        nome
        <input id="sigRightName" placeholder="ex.: EDUARDO MOSNA XAVIER" />
      </label>
      <label>
        cargo/função
        <input id="sigRightRole" placeholder="ex.: SUBCMT BTL" />
      </label>
    </div>
  </div>
  <div class="row row--actions">
    <button id="btnSigSave" class="btn">salvar assinaturas</button>
    <div class="muted" id="sigMsg"></div>
  </div>
</details>

      <hr />

      <h2>alterações operacionais (para impressão)</h2>
      <div class="muted">use este espaço no impresso quando a escala já estiver fechada (texto livre, 4 linhas por dia).</div>
      <div id="opsNotes" class="ops"></div>

      <footer class="foot" id="footerMark"></footer>
    </section>
  </main>


  <!-- modal: descrição (OUTROS / FO*) -->
  <div id="outrosModal" class="modal" style="display:none;">
    <div class="modal__card">
      <h3 id="descModalTitle">descrição</h3>
      <div class="muted" id="descModalHint">digite a descrição (aparecerá integralmente no PDF).</div>
      <textarea id="outrosText" rows="6" placeholder="descreva aqui..."></textarea>
      <div class="muted" id="outrosMsg"></div>
      <div class="modal__actions">
        <button id="outrosCancel" class="btn btn--ghost">cancelar</button>
        <button id="outrosSave" class="btn btn--primary">salvar</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
